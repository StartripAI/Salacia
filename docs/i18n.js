const i18n = {
    en: {
        nav_how: "How It Works",
        nav_data: "Benchmarks",
        badge: "\u2726 SWE-bench Verified \xb7 117 Tasks Tested",
        hero_gradient: "Stop wasting tokens",
        hero_rest: "on bad prompts.",
        subtitle: "Salacia is the runtime that makes any AI coding agent smarter, faster, and cheaper.",
        copy: "click to copy",
        compat: "Works with Claude Code \xb7 Codex \xb7 Cursor \xb7 Cline \xb7 any agent",
        stat_bugs: "More Bugs Solved",
        stat_fl: "FL Accuracy",
        stat_win: "Win Ratio",
        stat_tasks: "Tasks Tested",
        problem_label: "The Problem",
        problem_title: "Your AI agent is flying blind.",
        problem_subtitle: "Salacia gives it a map, a compass, and a verification contract.",
        without: "Without Salacia",
        w1: "Agent searches the entire repo",
        w2: "10+ turns of trial and error",
        w3: "Wastes tokens on wrong files",
        w4: "\u201cIt compiled\u201d = done",
        with: "With Salacia",
        s1: "Agent reads 2\u20133 targeted files",
        s2: "3\u20135 focused turns",
        s3: "93% accurate fault localization",
        s4: "Contract-verified correctness",
        how_label: "How It Works",
        how_title: "Three commands. That\u2019s it.",
        how_subtitle: "From vibe to verified fix in under a minute.",
        step1_title: "Plan",
        step1_desc: "Parse your intent into a contract with fault-localized context.",
        step2_title: "Execute",
        step2_desc: "Dispatch to your agent with targeted files and test guidance.",
        step3_title: "Validate",
        step3_desc: "Verify against the contract, not just \u201cit compiled.\u201d",
        cta_title: "Your code runs on Node.<br>Your AI agent runs on <span class=\"purple\">Salacia</span>.",
        cta_desc: "One command. Apache 2.0 licensed. Works with any agent.",
        cta_gh: "\u2b50 Star on GitHub",
        cta_npm: "\ud83d\udce6 View on npm",
        page_title: "Salacia \u2014 The Runtime for AI Coding Agents"
    },
    zh: {
        nav_how: "\u600e\u4e48\u7528",
        nav_data: "\u6570\u636e",
        badge: "\u2726 117 \u4e2a\u771f\u5b9e\u5f00\u6e90 bug \u5b9e\u6d4b",
        hero_gradient: "Cursor \u8001\u6539\u9519\u6587\u4ef6\uff1f",
        hero_rest: "\u52a0\u4e00\u5c42\u5c31\u597d\u4e86\u3002",
        subtitle: "\u4f60\u7528 Cursor\u3001Claude Code \u5199\u4ee3\u7801\u7684\u65f6\u5019\uff0c\u6709\u6ca1\u6709\u8fd9\u79cd\u611f\u89c9\u2014\u2014\u5b83\u660e\u660e\u5f88\u52aa\u529b\uff0c\u4f46\u8001\u662f\u6539\u9519\u5730\u65b9\u3002Salacia \u5148\u5e2e\u4f60\u627e\u5230\u8be5\u6539\u54ea\uff0c\u518d\u8ba9 AI \u53bb\u6539\u3002",
        copy: "\u590d\u5236",
        compat: "Cursor \xb7 Claude Code \xb7 Codex \xb7 Cline \xb7 \u90fd\u80fd\u7528",
        stat_bugs: "\u591a\u4fee\u4e86\u8fd9\u4e48\u591a bug",
        stat_fl: "\u5b9a\u4f4d\u51c6\u786e\u7387",
        stat_win: "\u52a0\u4e86\u6bd4\u6ca1\u52a0\u5f3a",
        stat_tasks: "\u4e2a\u771f\u5b9e bug \u5b9e\u6d4b",
        problem_label: "\u4f60\u80af\u5b9a\u9047\u5230\u8fc7",
        problem_title: "\u8ba9 AI \u4fee bug\uff0c\u5b83\u7ffb\u4e86\u534a\u5929\u4ed3\u5e93\uff0c\u6700\u540e\u6539\u9519\u6587\u4ef6\u4e86\u3002",
        problem_subtitle: "Salacia \u505a\u7684\u4e8b\u5f88\u7b80\u5355\uff1a\u5148\u544a\u8bc9 AI \u8be5\u770b\u54ea\u4e2a\u6587\u4ef6\uff0c\u518d\u8ba9\u5b83\u52a8\u624b\u3002",
        without: "\u76f4\u63a5\u8ba9 Cursor \u6539",
        w1: "\u6ee1\u4ed3\u5e93\u627e\uff0ctoken \u54d7\u54d7\u70e7",
        w2: "\u6765\u56de\u8bd5\u5341\u51e0\u8f6e\uff0c\u8d8a\u6539\u8d8a\u4e71",
        w3: "\u7ec8\u4e8e\u6539\u4e86\u2026\u2026\u6539\u7684\u4e0d\u662f\u90a3\u4e2a\u6587\u4ef6",
        w4: "\u201c\u53cd\u6b63\u80fd\u8dd1\u4e86\u201d \u5c31\u4ea4\u5dee",
        with: "\u52a0\u4e00\u5c42 Salacia \u518d\u8ba9\u5b83\u6539",
        s1: "\u76f4\u63a5\u544a\u8bc9\u5b83\u770b\u54ea 2-3 \u4e2a\u6587\u4ef6",
        s2: "\u4e09\u4e94\u8f6e\u5c31\u4fee\u597d\u4e86",
        s3: "93% \u7684\u60c5\u51b5\u4e00\u6b21\u5c31\u627e\u5bf9\u4e86",
        s4: "\u4e0d\u53ea\u662f\u80fd\u8dd1\uff0c\u662f\u771f\u7684\u6d4b\u8bd5\u8fc7\u4e86",
        how_label: "\u4e09\u6b65\u641e\u5b9a",
        how_title: "\u5c31\u4e09\u6761\u547d\u4ee4\uff0c\u7b80\u5355\u5230\u79bb\u8c31\u3002",
        how_subtitle: "\u8ddf\u5e73\u65f6\u7528 Cursor \u4e00\u6837\uff0c\u53ea\u662f\u591a\u4e86\u4e00\u5c42\u3002",
        step1_title: "\u7b2c\u4e00\u6b65\uff1a\u8bf4",
        step1_desc: "\u7528\u4eba\u8bdd\u8bf4\u4f60\u8981\u4fee\u4ec0\u4e48\u3002Salacia \u81ea\u52a8\u5206\u6790\u4f60\u7684\u9879\u76ee\uff0c\u627e\u5230\u8be5\u6539\u54ea\u4e2a\u6587\u4ef6\u3002",
        step2_title: "\u7b2c\u4e8c\u6b65\uff1a\u8dd1",
        step2_desc: "\u628a\u5b9a\u4f4d\u7ed3\u679c\u4ea4\u7ed9\u4f60\u7684 Cursor / Claude Code\uff0c\u8ba9\u5b83\u5e26\u7740\u7b54\u6848\u53bb\u6539\u4ee3\u7801\u3002",
        step3_title: "\u7b2c\u4e09\u6b65\uff1a\u9a8c",
        step3_desc: "\u81ea\u52a8\u8dd1\u6d4b\u8bd5\u3002\u4e0d\u662f\u201c\u6211\u89c9\u5f97\u6ca1\u95ee\u9898\u201d\uff0c\u662f\u6d4b\u8bd5\u771f\u7684\u8fc7\u4e86\u3002",
        cta_title: "\u4e0d\u7528\u6362\u5de5\u5177\u3002<br>\u7ed9\u4f60\u73b0\u5728\u7528\u7684 AI \u52a0\u4e00\u5c42 <span class=\"purple\">Salacia</span>\u3002",
        cta_desc: "\u4e00\u6761\u547d\u4ee4\u5c31\u80fd\u8bd5 \xb7 \u5f00\u6e90\u514d\u8d39 \xb7 \u4f60\u73b0\u5728\u7528\u7684 Cursor / Claude Code \u76f4\u63a5\u80fd\u7528",
        cta_gh: "\u2b50 GitHub",
        cta_npm: "\ud83d\udce6 npm",
        page_title: "Salacia \u2014 \u8ba9\u4f60\u7684 AI \u5199\u4ee3\u7801\u4e0d\u518d\u6539\u9519\u5730\u65b9"
    }
};

let currentLang = 'en';

function applyLang(lang) {
    currentLang = lang;
    document.documentElement.lang = lang === 'zh' ? 'zh-CN' : 'en';
    document.getElementById('langToggle').textContent = lang === 'zh' ? 'EN' : '\u4e2d\u6587';

    var strings = i18n[lang];
    document.querySelectorAll('[data-i18n]').forEach(function (el) {
        var key = el.getAttribute('data-i18n');
        if (strings[key] !== undefined) el.textContent = strings[key];
    });

    var ctaEl = document.getElementById('ctaTitle');
    if (ctaEl) ctaEl.innerHTML = strings.cta_title;

    document.title = strings.page_title;
    localStorage.setItem('salacia-lang', lang);
}

function toggleLang() {
    applyLang(currentLang === 'en' ? 'zh' : 'en');
}

document.getElementById('copyBtn').addEventListener('click', function () {
    navigator.clipboard.writeText('npx salacia init');
    this.classList.add('copied');
    var hint = this.querySelector('.copy-hint');
    hint.textContent = currentLang === 'zh' ? '\u5df2\u590d\u5236 \u2713' : 'Copied!';
});

(function () {
    var saved = localStorage.getItem('salacia-lang');
    if (saved) { applyLang(saved); return; }
    var bl = (navigator.language || 'en').toLowerCase();
    applyLang(bl.indexOf('zh') === 0 ? 'zh' : 'en');
})();
